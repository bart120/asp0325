@model SubRequestIndexViewModel
@{
    ViewBag.Title = "Mes demandes";
}

<h2>Mes demandes</h2>

@if(!string.IsNullOrWhiteSpace(TempData["SuccessMessage"]?.ToString()))
{
    <div class="alert alert-success" role="alert">
        @TempData["SuccessMessage"]?.ToString()
    </div>
}

<table class="table">
    <thead>
        <tr>
            <th scope="col">Titre</th>
            <th scope="col">Date de la demande</th>
            <th scope="col">Montant</th>
            <th scope="col">Etat</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var req in Model.SubRequestActive)
        {
            <tr>
                <td scope="row">@req.Title</td>
                <td>@req.CreatedAt</td>
                <td>@req.Amount</td>
                <td>@req.Status</td>
            </tr>
        }
        
    </tbody>
</table>
<br />
<a asp-controller="SubRequests" asp-action="create" class="btn btn-primary">Nouvelle demande</a>
<br />
<table class="table table-warning">
    <thead>
        <tr>
            <th scope="col">Titre</th>
            <th scope="col">Date de la demande</th>
            <th scope="col">Montant</th>
            <th scope="col">Etat</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var req in Model.SubRequesteOlder)
        {
            <tr>
                <td scope="row">@req.Title</td>
                <td>@req.CreatedAt</td>
                <td>@req.Amount</td>
                <td>@req.Status</td>
            </tr>
        }

    </tbody>
</table>